<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>U Sound Sorter</title>
<link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;800&family=Poppins:wght@400;600;700;900&display=swap" rel="stylesheet">
<style>
  :root {
    --open: #FF9F43;
    --closed: #54A0FF;
    --bg: #f0f4ff;
    --card: #ffffff;
    --text: #1e2a4a;
    --shadow: 0 8px 32px rgba(30,42,74,0.10);
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: 'Poppins', sans-serif;
    background: var(--bg);
    color: var(--text);
    min-height: 100vh;
    padding: 24px 16px 40px;
    background-image:
      radial-gradient(circle at 10% 20%, rgba(255,159,67,0.13) 0%, transparent 40%),
      radial-gradient(circle at 90% 80%, rgba(84,160,255,0.13) 0%, transparent 40%);
  }

  /* Header */
  .header {
    text-align: center;
    margin-bottom: 28px;
  }

  h1 {
    font-family: 'Baloo 2', cursive;
    font-size: clamp(2rem, 5vw, 3.2rem);
    font-weight: 800;
    color: var(--text);
    line-height: 1.1;
    margin-bottom: 6px;
  }

  h1 .u-open { color: var(--open); }
  h1 .u-closed { color: var(--closed); }

  .subtitle {
    font-size: 1rem;
    color: #5a6a8a;
    font-weight: 600;
    margin-bottom: 0;
  }

  /* Top bar */
  .top-bar {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 14px;
    margin-bottom: 22px;
    flex-wrap: wrap;
  }

  .score-pill {
    background: white;
    border-radius: 50px;
    padding: 8px 24px;
    font-weight: 700;
    font-size: 1rem;
    box-shadow: var(--shadow);
    border: 2px solid #e0e8ff;
    color: var(--text);
  }
  .score-pill .num { color: #6c3fd4; font-size: 1.2rem; }

  .reset-btn {
    background: white;
    border: 2px solid #e0e8ff;
    color: #5a6a8a;
    border-radius: 50px;
    padding: 8px 20px;
    font-family: 'Poppins', sans-serif;
    font-weight: 700;
    font-size: 0.9rem;
    cursor: pointer;
    box-shadow: var(--shadow);
    transition: all 0.2s;
  }
  .reset-btn:hover { border-color: #aab4ff; color: var(--text); transform: translateY(-1px); }

  /* Progress */
  .progress-wrap {
    background: #dde3f5;
    border-radius: 50px;
    height: 10px;
    margin-bottom: 24px;
    overflow: hidden;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, var(--open), var(--closed));
    border-radius: 50px;
    width: 0%;
    transition: width 0.4s ease;
  }

  /* Word bank */
  .word-bank-wrap {
    background: white;
    border-radius: 24px;
    padding: 20px 24px;
    margin-bottom: 26px;
    box-shadow: var(--shadow);
    border: 2px solid #e8eeff;
    max-width: 720px;
    margin-left: auto;
    margin-right: auto;
  }

  .bank-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 2.5px;
    color: #9aaac8;
    font-weight: 700;
    margin-bottom: 14px;
  }

  #word-bank {
    display: flex;
    flex-wrap: wrap;
    gap: 12px;
    min-height: 56px;
    align-items: center;
  }

  .word-chip {
    background: linear-gradient(135deg, #f5f7ff, #eef0ff);
    border: 2.5px solid #d0d8ff;
    border-radius: 16px;
    padding: 10px 20px;
    cursor: grab;
    font-weight: 700;
    font-size: 1rem;
    color: var(--text);
    transition: all 0.2s;
    user-select: none;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    box-shadow: 0 2px 8px rgba(100,120,200,0.10);
  }

  .word-chip:hover {
    transform: translateY(-4px) scale(1.04);
    border-color: #a0b0ff;
    box-shadow: 0 8px 24px rgba(100,120,200,0.18);
  }

  .word-chip.dragging { opacity: 0.3; transform: scale(0.95); }

  .word-chip .ipa {
    font-size: 0.72rem;
    color: #8899bb;
    font-weight: 600;
  }

  /* Buckets */
  .buckets-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    max-width: 720px;
    margin: 0 auto;
  }

  @media (max-width: 500px) {
    .buckets-grid { grid-template-columns: 1fr; }
  }

  .bucket {
    border-radius: 28px;
    padding: 24px 20px 20px;
    min-height: 260px;
    border: 3px dashed;
    transition: all 0.2s;
    background: white;
    box-shadow: var(--shadow);
  }

  .bucket[data-sound="open"] {
    border-color: rgba(255,159,67,0.5);
    background: linear-gradient(160deg, #fff9f0, #fff4e6);
  }
  .bucket[data-sound="closed"] {
    border-color: rgba(84,160,255,0.5);
    background: linear-gradient(160deg, #f0f7ff, #e6f0ff);
  }

  .bucket.drag-over {
    transform: scale(1.02);
    box-shadow: 0 16px 48px rgba(0,0,0,0.12);
  }
  .bucket[data-sound="open"].drag-over { border-color: var(--open); background: #fff3e0; }
  .bucket[data-sound="closed"].drag-over { border-color: var(--closed); background: #e3f0ff; }

  /* Bucket header â€” BIG and BOLD */
  .bucket-header {
    text-align: center;
    margin-bottom: 18px;
    padding-bottom: 14px;
    border-bottom: 2px solid;
  }
  .bucket[data-sound="open"] .bucket-header { border-color: rgba(255,159,67,0.3); }
  .bucket[data-sound="closed"] .bucket-header { border-color: rgba(84,160,255,0.3); }

  .bucket-vowel {
    font-family: 'Baloo 2', cursive;
    font-size: 4rem;
    font-weight: 800;
    line-height: 1;
    display: block;
  }
  .bucket[data-sound="open"] .bucket-vowel { color: var(--open); }
  .bucket[data-sound="closed"] .bucket-vowel { color: var(--closed); }

  .bucket-ipa {
    font-family: 'Baloo 2', cursive;
    font-size: 1.6rem;
    font-weight: 800;
    display: block;
    margin-top: 2px;
  }
  .bucket[data-sound="open"] .bucket-ipa { color: #cc7700; }
  .bucket[data-sound="closed"] .bucket-ipa { color: #1a6fcc; }

  .bucket-type {
    font-size: 0.78rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    margin-top: 4px;
  }
  .bucket[data-sound="open"] .bucket-type { color: #e08030; }
  .bucket[data-sound="closed"] .bucket-type { color: #3070cc; }

  .bucket-example {
    font-size: 0.88rem;
    font-weight: 600;
    margin-top: 6px;
  }
  .bucket[data-sound="open"] .bucket-example { color: #c06820; }
  .bucket[data-sound="closed"] .bucket-example { color: #2060bb; }

  .bucket-rule {
    font-size: 0.72rem;
    color: #9aaac8;
    margin-top: 4px;
    font-style: italic;
  }

  /* Words inside bucket */
  .bucket-words {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }

  .placed-word {
    border-radius: 12px;
    padding: 8px 16px;
    font-size: 0.92rem;
    font-weight: 700;
    cursor: pointer;
    transition: all 0.15s;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
    border: 2px solid transparent;
  }
  .placed-word .ipa { font-size: 0.65rem; font-weight: 600; opacity: 0.75; }

  .placed-word.neutral {
    background: rgba(255,255,255,0.7);
    border-color: rgba(0,0,0,0.1);
    color: var(--text);
  }
  .placed-word.correct {
    background: rgba(46,213,115,0.15);
    border-color: #2ed573;
    color: #1a7a45;
  }
  .placed-word.wrong {
    background: rgba(255,71,87,0.12);
    border-color: #ff4757;
    color: #c0002a;
    animation: shake 0.3s ease;
  }

  @keyframes shake {
    0%,100% { transform: translateX(0); }
    25% { transform: translateX(-6px); }
    75% { transform: translateX(6px); }
  }

  /* Check button */
  .check-btn {
    display: block;
    margin: 28px auto 0;
    background: linear-gradient(135deg, var(--open), #ff6b35);
    color: white;
    border: none;
    border-radius: 50px;
    padding: 14px 48px;
    font-family: 'Baloo 2', cursive;
    font-size: 1.3rem;
    font-weight: 800;
    letter-spacing: 0.5px;
    cursor: pointer;
    transition: all 0.2s;
    box-shadow: 0 6px 24px rgba(255,159,67,0.4);
  }
  .check-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 12px 36px rgba(255,159,67,0.5);
  }

  .result-msg {
    text-align: center;
    margin-top: 16px;
    font-weight: 800;
    font-size: 1.15rem;
    min-height: 30px;
    color: #6c3fd4;
  }

  /* Touch support hint */
  .hint {
    text-align: center;
    font-size: 0.78rem;
    color: #9aaac8;
    margin-bottom: 10px;
    font-style: italic;
  }
</style>
</head>
<body>

<div class="header">
  <h1>Sort the <span class="u-open">U</span> Sounds!</h1>
  <p class="subtitle">Two sounds, one letter â€” can you hear the difference?</p>
</div>

<div class="top-bar">
  <div class="score-pill">Score: <span class="num" id="score">0</span> / <span id="total">12</span></div>
  <button class="reset-btn" onclick="resetGame()">â†º Reset</button>
</div>

<div class="progress-wrap">
  <div class="progress-fill" id="progress-fill"></div>
</div>

<div class="word-bank-wrap">
  <div class="bank-label">ðŸ“¦ Word Bank â€” drag each word to the correct bucket</div>
  <div id="word-bank"></div>
</div>

<p class="hint">ðŸ’¡ Tap a placed word to move it back to the word bank</p>

<div class="buckets-grid" id="buckets-grid"></div>

<button class="check-btn" onclick="checkAll()">âœ” Check My Answers</button>
<div class="result-msg" id="result-msg"></div>

<script>
const WORDS = [
  // /ÊŒ/ closed syllable â€” short u sound
  { word: "cub",  ipa: "/kÊŒb/",  sound: "closed" },
  { word: "cut",  ipa: "/kÊŒt/",  sound: "closed" },
  { word: "duck", ipa: "/dÊŒk/",  sound: "closed" },
  { word: "must", ipa: "/mÊŒst/", sound: "closed" },
  { word: "nut",  ipa: "/nÊŒt/",  sound: "closed" },
  { word: "but",  ipa: "/bÊŒt/",  sound: "closed" },

  // /juË/ open syllable â€” long u sound
  { word: "cute", ipa: "/kjuËt/", sound: "open" },
  { word: "duke", ipa: "/djuËk/", sound: "open" },
  { word: "mule", ipa: "/mjuËl/", sound: "open" },
  { word: "cube", ipa: "/kjuËb/", sound: "open" },
  { word: "rule", ipa: "/ruËl/",  sound: "open" },
  { word: "rude", ipa: "/ruËd/",  sound: "open" },
];

const BUCKETS = [
  {
    sound: "open",
    vowel: "U",
    ipa: "/juË/",
    type: "Open Syllable",
    example: "ðŸ”µ cute Â· duke Â· rule Â· rude",
    rule: "ends in silent 'e' â€” vowel says its name"
  },
  {
    sound: "closed",
    vowel: "U",
    ipa: "/ÊŒ/",
    type: "Closed Syllable",
    example: "ðŸŸ  cub Â· cut Â· nut Â· but",
    rule: "ends in consonant â€” short vowel sound"
  },
];

let placed = {};

function shuffle(arr) {
  const a = [...arr];
  for (let i = a.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [a[i], a[j]] = [a[j], a[i]];
  }
  return a;
}

function buildBuckets() {
  const grid = document.getElementById('buckets-grid');
  grid.innerHTML = '';
  BUCKETS.forEach(b => {
    const div = document.createElement('div');
    div.className = 'bucket';
    div.dataset.sound = b.sound;
    div.innerHTML = `
      <div class="bucket-header">
        <span class="bucket-vowel">${b.vowel}</span>
        <span class="bucket-ipa">${b.ipa}</span>
        <div class="bucket-type">${b.type}</div>
        <div class="bucket-example">${b.example}</div>
        <div class="bucket-rule">${b.rule}</div>
      </div>
      <div class="bucket-words" id="bucket-${b.sound}"></div>
    `;
    div.addEventListener('dragover', e => { e.preventDefault(); div.classList.add('drag-over'); });
    div.addEventListener('dragleave', () => div.classList.remove('drag-over'));
    div.addEventListener('drop', e => {
      e.preventDefault();
      div.classList.remove('drag-over');
      const word = e.dataTransfer.getData('text/plain');
      placeWord(word, b.sound);
    });
    grid.appendChild(div);
  });
}

function buildWordBank() {
  const bank = document.getElementById('word-bank');
  bank.innerHTML = '';
  shuffle(WORDS).forEach(w => {
    if (!placed[w.word]) bank.appendChild(makeChip(w, true));
  });
}

function makeChip(w, inBank) {
  const chip = document.createElement('div');
  chip.className = inBank ? 'word-chip' : 'placed-word neutral';
  chip.draggable = true;
  chip.dataset.word = w.word;
  chip.innerHTML = `${w.word}<span class="ipa">${w.ipa}</span>`;
  chip.addEventListener('dragstart', e => {
    e.dataTransfer.setData('text/plain', w.word);
    setTimeout(() => chip.classList.add('dragging'), 0);
  });
  chip.addEventListener('dragend', () => chip.classList.remove('dragging'));
  if (!inBank) chip.addEventListener('click', () => returnToBank(w.word));
  return chip;
}

function placeWord(wordStr, targetSound) {
  const w = WORDS.find(x => x.word === wordStr);
  if (!w) return;
  document.querySelector(`#word-bank [data-word="${wordStr}"]`)?.remove();
  document.querySelector(`.bucket-words [data-word="${wordStr}"]`)?.remove();
  placed[wordStr] = targetSound;
  document.getElementById(`bucket-${targetSound}`).appendChild(makeChip(w, false));
  updateProgress();
}

function returnToBank(wordStr) {
  document.querySelector(`.bucket-words [data-word="${wordStr}"]`)?.remove();
  delete placed[wordStr];
  const w = WORDS.find(x => x.word === wordStr);
  document.getElementById('word-bank').appendChild(makeChip(w, true));
  updateProgress();
  document.getElementById('result-msg').textContent = '';
  document.querySelectorAll('.placed-word').forEach(el => el.className = 'placed-word neutral');
}

function updateProgress() {
  const done = Object.keys(placed).length;
  document.getElementById('progress-fill').style.width = (done / WORDS.length * 100) + '%';
}

function checkAll() {
  let correct = 0;
  WORDS.forEach(w => {
    if (!placed[w.word]) return;
    const chip = document.querySelector(`.bucket-words [data-word="${w.word}"]`);
    if (!chip) return;
    if (placed[w.word] === w.sound) {
      chip.className = 'placed-word correct';
      correct++;
    } else {
      chip.className = 'placed-word wrong';
    }
  });
  const placedCount = Object.keys(placed).length;
  document.getElementById('score').textContent = correct;
  document.getElementById('total').textContent = WORDS.length;
  const msg = document.getElementById('result-msg');
  if (placedCount < WORDS.length) {
    msg.textContent = `âœ… ${correct} correct so far! Place all ${WORDS.length} words to finish.`;
  } else if (correct === WORDS.length) {
    msg.textContent = `ðŸŽ‰ Amazing! All ${WORDS.length} words correct! Well done!`;
  } else {
    msg.textContent = `âœ… ${correct}/${WORDS.length} correct â€” click the red words to try again!`;
  }
}

function resetGame() {
  placed = {};
  document.getElementById('score').textContent = '0';
  document.getElementById('total').textContent = WORDS.length;
  document.getElementById('result-msg').textContent = '';
  document.getElementById('progress-fill').style.width = '0%';
  buildBuckets();
  buildWordBank();
}

resetGame();
</script>
</body>
</html>
